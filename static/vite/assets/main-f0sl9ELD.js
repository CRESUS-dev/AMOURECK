import{C as t}from"./auto-aF82oVy8.js";t.defaults.font.family="'Inter', 'Roboto', sans-serif";t.defaults.font.size=14;t.defaults.datasets.bar.borderWidth=0;t.defaults.datasets.bar.borderColor="#000000";t.defaults.plugins.legend.position="bottom";t.defaults.plugins.legend.labels.boxWidth=16;t.defaults.plugins.title.display=!0;t.defaults.plugins.tooltip.backgroundColor="rgba(0,0,0,0.7)";t.defaults.plugins.tooltip.cornerRadius=6;t.defaults.maintainAspectRatio=!1;t.defaults.responsive=!0;const f=document.getElementById("ticketsChart");let d=null;async function l(){const e=document.getElementById("date_from").value,a=document.getElementById("date_to").value;let r="/ticket/dashboard/data";const n=new URLSearchParams;e&&n.append("date_from",e),a&&n.append("date_to",a),n.toString()&&(r+="?"+n.toString());const o=await(await fetch(r)).json();function i(u){const c=document.querySelector("#amountsSummary tbody");c.innerHTML=u.map(s=>`
        <tr>
            <td>${s.agency__name}</td>
            <td>${Number(s.total_amount).toLocaleString()}</td>
            <td>${s.agency_currency}</td>
        </tr>
    `).join("")}p(o.labels,o.values),i(o.amounts)}function p(e,a){d&&d.destroy(),d=new t(f,{type:"bar",data:{labels:e,datasets:[{label:"Tickets vendus ",data:a,backgroundColor:"rgba(0,67,100,1)"}]},options:{plugins:{legend:{display:!1,position:"top"},title:{display:!0,text:"Nombre de tickets vendus par agence",fontSize:30}},scales:{y:{beginAtZero:!0,grid:{display:!1}},x:{grid:{display:!1}}}}})}l();document.getElementById("filterForm").addEventListener("submit",function(e){e.preventDefault(),l()});
